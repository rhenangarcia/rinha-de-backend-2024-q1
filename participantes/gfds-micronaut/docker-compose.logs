 Network gfds-micronaut_default  Creating
 Network gfds-micronaut_default  Created
 Volume "gfds-micronaut_db-data"  Creating
 Volume "gfds-micronaut_db-data"  Created
 Container rb-db  Creating
 Container rb-db  Created
 Container rb-api1  Creating
 Container rb-api2  Creating
 Container rb-api1  Created
 Container rb-api2  Created
 Container rb-lb  Creating
 Container rb-lb  Created
Attaching to rb-api1, rb-api2, rb-db, rb-lb
rb-db    | The files belonging to this database system will be owned by user "postgres".
rb-db    | This user must also own the server process.
rb-db    | 
rb-db    | The database cluster will be initialized with locale "en_US.utf8".
rb-db    | The default database encoding has accordingly been set to "UTF8".
rb-db    | The default text search configuration will be set to "english".
rb-db    | 
rb-db    | Data page checksums are disabled.
rb-db    | 
rb-db    | fixing permissions on existing directory /var/lib/postgresql/data ... ok
rb-db    | creating subdirectories ... ok
rb-db    | selecting dynamic shared memory implementation ... posix
rb-db    | selecting default max_connections ... 100
rb-db    | selecting default shared_buffers ... 128MB
rb-db    | selecting default time zone ... UTC
rb-db    | creating configuration files ... ok
rb-db    | running bootstrap script ... ok
rb-db    | sh: locale: not found
rb-db    | 2024-02-17 20:44:25.363 UTC [30] WARNING:  no usable system locales were found
rb-db    | performing post-bootstrap initialization ... ok
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-db    | initdb: warning: enabling "trust" authentication for local connections
rb-db    | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
rb-db    | syncing data to disk ... ok
rb-db    | 
rb-db    | 
rb-db    | Success. You can now start the database server using:
rb-db    | 
rb-db    |     pg_ctl -D /var/lib/postgresql/data -l logfile start
rb-db    | 
rb-db    | waiting for server to start....2024-02-17 20:44:26.959 UTC [36] LOG:  starting PostgreSQL 16.2 on x86_64-pc-linux-musl, compiled by gcc (Alpine 13.2.1_git20231014) 13.2.1 20231014, 64-bit
rb-db    | 2024-02-17 20:44:26.960 UTC [36] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
rb-db    | 2024-02-17 20:44:26.961 UTC [39] LOG:  database system was shut down at 2024-02-17 20:44:26 UTC
rb-db    | 2024-02-17 20:44:26.964 UTC [36] LOG:  database system is ready to accept connections
rb-db    |  done
rb-db    | server started
rb-db    | CREATE DATABASE
rb-db    | 
rb-db    | 
rb-db    | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
rb-db    | DROP TABLE
rb-db    | psql:/docker-entrypoint-initdb.d/init.sql:1: NOTICE:  table "transactions" does not exist, skipping
rb-db    | psql:/docker-entrypoint-initdb.d/init.sql:2: NOTICE:  table "clients" does not exist, skipping
rb-db    | DROP TABLE
rb-db    | CREATE TABLE
rb-db    | CREATE INDEX
rb-db    | CREATE TABLE
rb-db    | CREATE INDEX
rb-db    | INSERT 0 5
rb-db    | CREATE FUNCTION
rb-db    | CREATE FUNCTION
rb-db    | CREATE PROCEDURE
rb-db    | CREATE PROCEDURE
rb-db    | 
rb-db    | 
rb-db    | 2024-02-17 20:44:27.135 UTC [36] LOG:  received fast shutdown request
rb-db    | 2024-02-17 20:44:27.135 UTC [36] LOG:  aborting any active transactions
rb-db    | waiting for server to shut down....2024-02-17 20:44:27.139 UTC [36] LOG:  background worker "logical replication launcher" (PID 42) exited with exit code 1
rb-db    | 2024-02-17 20:44:27.139 UTC [37] LOG:  shutting down
rb-db    | 2024-02-17 20:44:27.139 UTC [37] LOG:  checkpoint starting: shutdown immediate
rb-db    | 2024-02-17 20:44:27.145 UTC [37] LOG:  checkpoint complete: wrote 945 buffers (5.8%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.006 s, sync=0.001 s, total=0.006 s; sync files=0, longest=0.000 s, average=0.000 s; distance=4316 kB, estimate=4316 kB; lsn=0/1927748, redo lsn=0/1927748
rb-db    | 2024-02-17 20:44:27.149 UTC [36] LOG:  database system is shut down
rb-db    |  done
rb-db    | server stopped
rb-db    | 
rb-db    | PostgreSQL init process complete; ready for start up.
rb-db    | 
rb-db    | 2024-02-17 20:44:27.253 UTC [1] LOG:  starting PostgreSQL 16.2 on x86_64-pc-linux-musl, compiled by gcc (Alpine 13.2.1_git20231014) 13.2.1 20231014, 64-bit
rb-db    | 2024-02-17 20:44:27.253 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
rb-db    | 2024-02-17 20:44:27.253 UTC [1] LOG:  listening on IPv6 address "::", port 5432
rb-db    | 2024-02-17 20:44:27.253 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
rb-db    | 2024-02-17 20:44:27.255 UTC [54] LOG:  database system was shut down at 2024-02-17 20:44:27 UTC
rb-db    | 2024-02-17 20:44:27.258 UTC [1] LOG:  database system is ready to accept connections
rb-api1  | [36m20:44:29.823[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api2  | [36m20:44:29.920[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api2  | [36m20:44:31.223[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api2  | [36m20:44:31.224[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api1  | [36m20:44:31.328[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api1  | [36m20:44:31.329[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api1  | [36m20:44:32.631[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api2  | [36m20:44:32.835[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api2  | [36m20:44:33.220[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api1  | [36m20:44:33.226[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api2  | [36m20:44:33.418[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api1  | [36m20:44:33.419[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api2  | [36m20:44:33.421[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.093s)
rb-api1  | [36m20:44:33.423[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.091s)
rb-api2  | [36m20:44:33.438[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api2  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api2  | 	at com.ngfds.Application.main(Application.java:8)
rb-api2  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api2  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api2  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api2  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api2  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api2  | 	... 9 common frames omitted
rb-api1  | [36m20:44:33.517[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api1  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api1  | 	at com.ngfds.Application.main(Application.java:8)
rb-api1  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api1  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api1  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api1  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api1  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api1  | 	... 9 common frames omitted
rb-api2 exited with code 0
rb-api1 exited with code 0
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  | [36m20:44:39.533[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m20:44:39.723[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api2  | [36m20:44:40.928[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api2  | [36m20:44:40.929[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api1  | [36m20:44:41.222[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api1  | [36m20:44:41.224[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api1  | [36m20:44:42.526[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api2  | [36m20:44:42.633[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api1  | [36m20:44:43.024[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api2  | [36m20:44:43.124[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api1  | [36m20:44:43.223[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api1  | [36m20:44:43.227[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.097s)
rb-api2  | [36m20:44:43.332[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api1  | [36m20:44:43.326[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api1  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api1  | 	at com.ngfds.Application.main(Application.java:8)
rb-api1  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api1  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api1  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api1  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api1  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api1  | 	... 9 common frames omitted
rb-api2  | [36m20:44:43.419[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.100s)
rb-api2  | [36m20:44:43.529[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api2  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api2  | 	at com.ngfds.Application.main(Application.java:8)
rb-api2  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api2  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api2  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api2  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api2  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api2  | 	... 9 common frames omitted
rb-db    | 2024-02-17 20:44:43.634 UTC [97] LOG:  could not receive data from client: Connection reset by peer
rb-api1 exited with code 0
rb-api2 exited with code 0
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  | [36m20:44:49.336[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m20:44:49.517[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m20:44:50.823[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api1  | [36m20:44:50.824[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m20:44:50.827[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api2  | [36m20:44:50.828[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m20:44:52.421[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api1  | [36m20:44:52.433[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api1  | [36m20:44:52.917[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api2  | [36m20:44:52.924[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api1  | [36m20:44:53.118[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api1  | [36m20:44:53.122[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.101s)
rb-api2  | [36m20:44:53.125[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api2  | [36m20:44:53.129[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.094s)
rb-api2  | [36m20:44:53.219[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api2  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api2  | 	at com.ngfds.Application.main(Application.java:8)
rb-api2  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api2  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api2  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api2  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api2  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api2  | 	... 9 common frames omitted
rb-api1  | [36m20:44:53.220[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api1  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api1  | 	at com.ngfds.Application.main(Application.java:8)
rb-api1  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api1  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api1  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api1  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api1  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api1  | 	... 9 common frames omitted
rb-api1 exited with code 0
rb-api2 exited with code 0
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api1  | [36m20:44:59.235[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api2  | [36m20:44:59.315[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m20:45:00.719[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api1  | [36m20:45:00.721[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m20:45:00.729[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api2  | [36m20:45:00.730[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m20:45:02.116[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api1  | [36m20:45:02.231[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api1  | [36m20:45:02.720[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api2  | [36m20:45:02.721[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api1  | [36m20:45:02.926[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api2  | [36m20:45:02.928[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api1  | [36m20:45:02.930[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.098s)
rb-api2  | [36m20:45:02.932[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.101s)
rb-api1  | [36m20:45:03.020[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api1  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api1  | 	at com.ngfds.Application.main(Application.java:8)
rb-api1  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api1  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api1  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api1  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api1  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api1  | 	... 9 common frames omitted
rb-api2  | [36m20:45:03.030[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api2  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api2  | 	at com.ngfds.Application.main(Application.java:8)
rb-api2  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api2  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api2  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api2  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api2  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api2  | 	... 9 common frames omitted
rb-api1 exited with code 1
rb-api2 exited with code 1
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  | [36m20:45:08.927[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m20:45:08.932[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-lb exited with code 0
rb-lb exited with code 0
rb-api2 exited with code 0
rb-api2 exited with code 143
rb-api1 exited with code 0
rb-api1 exited with code 143
rb-db    | 2024-02-17 20:45:10.477 UTC [1] LOG:  received fast shutdown request
rb-db    | 2024-02-17 20:45:10.477 UTC [1] LOG:  aborting any active transactions
rb-db    | 2024-02-17 20:45:10.480 UTC [1] LOG:  background worker "logical replication launcher" (PID 57) exited with exit code 1
rb-db    | 2024-02-17 20:45:10.480 UTC [52] LOG:  shutting down
rb-db    | 2024-02-17 20:45:10.480 UTC [52] LOG:  checkpoint starting: shutdown immediate
rb-db    | 2024-02-17 20:45:10.481 UTC [52] LOG:  checkpoint complete: wrote 49 buffers (0.3%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.001 s, sync=0.001 s, total=0.002 s; sync files=0, longest=0.000 s, average=0.000 s; distance=239 kB, estimate=239 kB; lsn=0/1963428, redo lsn=0/1963428
rb-db    | 2024-02-17 20:45:10.484 UTC [1] LOG:  database system is shut down
rb-db exited with code 0
